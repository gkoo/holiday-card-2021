(this["webpackJsonpholiday-card-2021"]=this["webpackJsonpholiday-card-2021"]||[]).push([[0],{90:function(e,t,n){},91:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var i,c=n(0),l=n.n(c),a=n(30),s=n.n(a),r=(n(90),n(69)),u=n(14),o=n(150),h=n(43),j=n(44);!function(e){e[e.Empty=0]="Empty",e[e.Filled=1]="Filled",e[e.Xed=2]="Xed",e[e.Marked=3]="Marked"}(i||(i={}));var d=function(){function e(t,n,i){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{test:!1};Object(h.a)(this,e),this.height=void 0,this.width=void 0,this.options=void 0,this.solution=void 0,this.state=void 0,this.rowClues=[],this.columnClues=[],this.height=n,this.width=t,this.solution=i,this.state=[],this.options=c,this.initializeState(),this.generateClues()}return Object(j.a)(e,[{key:"initializeState",value:function(){for(var e=0;e<this.height;++e){for(var t=[],n=0;n<this.width;++n)t.push(0);this.state.push(t)}}},{key:"generateClues",value:function(){this.rowClues=this.generateRowClues(),this.columnClues=this.generateColumnClues()}},{key:"generateRowClues",value:function(){return this.solution.map(this.cellClues)}},{key:"generateColumnClues",value:function(){for(var e=this,t=[],n=function(n){t.push(e.cellClues(e.solution.map((function(e){return e[n]}))))},i=0;i<this.width;++i)n(i);return t}},{key:"cellClues",value:function(e){for(var t=0,n=[],i=0;i<e.length;++i)0!==e[i]?++t:t>0&&(n.push(t),t=0);return t>0&&n.push(t),0===n.length&&n.push(0),n}},{key:"toggleCellState",value:function(e,t,n){var c;c=this.state[e][t]===n?i.Empty:n,this.state[e][t]=c,this.options.test&&(this.solution=this.state,this.generateClues())}},{key:"fillInSolution",value:function(){var e=this;this.state.forEach((function(t,n){t.forEach((function(t,c){e.state[n][c]=e.solution[n][c]||i.Xed}))}))}},{key:"isSolved",value:function(){for(var e=0;e<this.height;++e)for(var t=0;t<this.width;++t){var n=this.state[e][t],c=this.solution[e][t];if(n===i.Filled&&c!==i.Filled||c===i.Filled&&n!==i.Filled)return!1}return this.options.test||this.fillInSolution(),!0}}],[{key:"toString",value:function(e){return e.map((function(e){return e.map((function(e){return e?"o":"x"})).join(" ")})).join("\n")}}]),e}(),b=d,O=n(10),x=n(65),f=n.n(x),v=n(147),p=n(151),g=n(155),C=n(154),m=n(152),S=n(153),w=(n(91),n(2)),k=function(e){var t=e.puzzle,n=Object(c.useState)(t.state),l=Object(O.a)(n,2),a=l[0],s=l[1],r=Object(c.useState)(t.rowClues),u=Object(O.a)(r,2),o=u[0],h=u[1],j=Object(c.useState)(t.columnClues),d=Object(O.a)(j,2),b=d[0],x=d[1],k=Object(c.useState)(0),y=Object(O.a)(k,2),z=y[0],F=y[1],E=Object(c.useState)(!1),I=Object(O.a)(E,2),M=I[0],N=I[1],X=function(e,n,c){switch(e.preventDefault(),e.type){case"click":e.shiftKey?t.toggleCellState(n,c,i.Marked):t.toggleCellState(n,c,i.Filled);break;case"contextmenu":t.toggleCellState(n,c,i.Xed);break;default:return}s(t.state),t.options.test&&(h(t.rowClues),x(t.columnClues)),t.options.test||N(t.isSolved()),F(z?0:1)};return Object(w.jsxs)(v.a,{children:[M?Object(w.jsx)("h1",{children:"You solved it!"}):void 0,Object(w.jsxs)(p.a,{className:"puzzle-table",children:[Object(w.jsx)(m.a,{children:Object(w.jsxs)(S.a,{children:[Object(w.jsx)(C.a,{sx:{border:0}}),b.map((function(e,t){return Object(w.jsx)(C.a,{sx:{border:0},children:Object(w.jsx)("span",{children:e.map((function(e,n){return Object(w.jsxs)("span",{children:[e,Object(w.jsx)("br",{})]},"clue-".concat(t,"-").concat(n))}))})},"col-".concat(t))}))]})}),Object(w.jsx)(g.a,{children:a.map((function(e,t){return Object(w.jsxs)(S.a,{children:[Object(w.jsx)(C.a,{className:"clue-labels row-clues",sx:{border:0,height:25,minWidth:100},align:"right",children:o[t].map((function(e,n){return Object(w.jsx)("span",{className:"clue",children:e},"clue-".concat(t,"-").concat(n))}))}),e.map((function(e,n){return Object(w.jsx)(C.a,{sx:{border:1,width:25,height:25},onClick:function(e){return X(e,t,n)},onContextMenu:function(e){return X(e,t,n)},className:f()({"picross-cell":!0,filled:e===i.Filled,xed:e===i.Xed,marked:e===i.Marked})},"col-".concat(n))}))]},"row-".concat(t))}))})]})]})},y=function(){var e=new b(5,5,[[1,0,0,0,1],[0,0,0,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,1,0,1,1]]);return Object(w.jsxs)(o.a,{children:[Object(w.jsx)("h1",{children:"Hello, world!"}),Object(w.jsx)(k,{puzzle:e})]})},z=n(148),F=n(144),E=n(142),I=n(143),M=n(140),N=function(){var e=Object(c.useState)(5),t=Object(O.a)(e,2),n=t[0],i=t[1],l=Object(c.useState)(5),a=Object(O.a)(l,2),s=a[0],r=a[1],u=Object(c.useState)(null),h=Object(O.a)(u,2),j=h[0],d=h[1];return Object(w.jsxs)(o.a,{children:[Object(w.jsx)("h1",{children:"Puzzle Builder"}),Object(w.jsxs)(v.a,{sx:{minWidth:120},children:[Object(w.jsxs)(I.a,{children:[Object(w.jsx)(F.a,{id:"width-label",children:"Width"}),Object(w.jsxs)(M.a,{labelId:"width-label",id:"change-width",value:n,label:"Width",onChange:function(e){i(e.target.value)},children:[Object(w.jsx)(E.a,{value:5,children:"5"}),Object(w.jsx)(E.a,{value:10,children:"10"}),Object(w.jsx)(E.a,{value:15,children:"15"}),Object(w.jsx)(E.a,{value:20,children:"20"})]})]}),Object(w.jsxs)(I.a,{children:[Object(w.jsx)(F.a,{id:"height-label",children:"Height"}),Object(w.jsxs)(M.a,{labelId:"height-label",id:"change-height",value:s,label:"Height",onChange:function(e){r(e.target.value)},children:[Object(w.jsx)(E.a,{value:5,children:"5"}),Object(w.jsx)(E.a,{value:10,children:"10"}),Object(w.jsx)(E.a,{value:15,children:"15"}),Object(w.jsx)(E.a,{value:20,children:"20"})]})]}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)(z.a,{variant:"contained",onClick:function(){for(var e=[],t=[],i=0;i<n;++i)t.push(0);for(var c=0;c<s;++c)e.push(t);var l=new b(n,s,e,{test:!0});d(l)},children:"Generate"}),j&&Object(w.jsx)(z.a,{variant:"contained",onClick:function(){j&&console.log(JSON.stringify(j.solution))},children:"Export"})]}),j&&Object(w.jsx)(k,{puzzle:j})]})},X=n(145),B=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),n=t[0],i=t[1],l=Object(c.useState)(null),a=Object(O.a)(l,2),s=a[0],r=a[1];return Object(w.jsxs)(o.a,{children:[Object(w.jsx)("h1",{children:"Hello, world!"}),Object(w.jsx)("h2",{children:"Build from input"}),Object(w.jsx)(X.a,{id:"puzzle-input",label:"Input Solution",variant:"outlined",onChange:function(e){i(e.target.value)},value:n}),Object(w.jsx)(z.a,{variant:"contained",onClick:function(){var e=JSON.parse(n),t=e.length,i=e[0].length,c=new b(i,t,e);r(c)},children:"Generate"}),s&&Object(w.jsx)(k,{puzzle:s})]})};var H=function(){return Object(w.jsx)(r.a,{basename:"/holiday-card-2021",children:Object(w.jsxs)(u.c,{children:[Object(w.jsx)(u.a,{path:"/builder",element:Object(w.jsx)(N,{})}),Object(w.jsx)(u.a,{path:"/tester",element:Object(w.jsx)(B,{})}),Object(w.jsx)(u.a,{path:"/",element:Object(w.jsx)(y,{})})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,l=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),l(e),a(e)}))};s.a.render(Object(w.jsx)(l.a.StrictMode,{children:Object(w.jsx)(H,{})}),document.getElementById("root")),J()}},[[98,1,2]]]);
//# sourceMappingURL=main.e39a6aa3.chunk.js.map